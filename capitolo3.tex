%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Capitolo 3

\chapter{Stato dell'Arte}
\label{ref:Arte}

Con l'avvento di tecnologie come Zeroconf, alla ricerca quindi di rendere indipendenti ed automatizzate le interazioni e collaborazione fra i dispositivi e le applicazioni che vi sono in esecuzione, il traffico Broadcast e Multicast è diventato sempre più diffuso, e con lui anche gli studi che sono stati approntati per migliorarne l'efficienza, l'affidabilità, la fruibilità, nonché analisi atte a comprenderne maggiormente la natura delle meccaniche che vi troviamo alla base.\\
Nell'elaborazione di questo lavoro di Tesi mi sono ritrovato a visionare numerosi studi a riguardo, che similmente, o con approccio completamente diverso, hanno analizzato sotto vari aspetti il traffico Broadcast e Multicast diffuso nelle reti locali.

\section[z2z]{Discovering Zeroconf Services\\ Beyond Local Link\cite{z2z}}
Questo altro lavoro parte da alcune considerazioni sulla tecnologia \textit{Zeroconf}, in particolare alla limitazione sull'utilizzo di quest'ultima all'interno della rete locale per mezzo di comunicazione multicast. \'E stato sviluppato un applicativo chiamato \textit{Zeroconf-to-Zeroconf Toolkit} (z2z), nel tentetivo di realizzare a un'architettura ibrida che combinasse la semplicità di utilizzo di Zeroconf con la scalabilità di una rete peer-to-peer basata su DHT. \\Z2z connette più sottoreti Zeroconf usando OpenDHT, estendendo la raggiungibilità delle applicazioni abilitate all'utilizzo di Zeroconf al di là dei link locali. Inoltre, fornisce un framework  sul quale basarsi per costruire una soluzione globale di service discovery basata su Zeroconf.\\
Considerando l'enorme e crescente utilizzo di Zeroconf, si può notare che sempre più applicativi ne fruiscono, aumentando di molto il numero, ma soprattutto la tipologia di servizi offerti tramite questa tecnologia. Questo ha portato ad una considerazione: se l'utilizzo fosse limitato al processo di discovery di stampanti e dispositivi locali, non ci sarebbe alcun problema, e rivelandosi un meccanismo pienamete utilizzato. Ma ad oggi ci sono servizi come applicazioni di chat(per esempio \textit{iChat} di Apple), i quali sono limitati da questa restrizione della rete locale: sarebbe molto più consono permettere alla comunicazione fra gli utilizzatori di Zeroconf di interagire anche con altre reti locali, mantenendo comunque tutti i vantaggi riguardo la semplicità di utilizzo.\\
Questo lavoro di estensione di Zeroconf è ispirato dalle recenti innovazioni nel campo di ricerca riguardo le reti peer-to-peer, tra cui le reti strutturate-sovrapposte p2p basate sulle  \textit{Distributed Hash Tables}(DHT), divenute popolari come sotto-strati sistemi distribuiti a livello globale. Le reti DHT sono caratterizzate da un efficiente algoritmo che mappa stringhe arbitrarie in uno specifico nodo di una rete e di produrre path di routing efficienti composti da un numero limitato di passaggi fra un nodo ed un'altro. Il mapping è deterministico e uniformemente distribuito, e questo permette efficienti implementazioni di numerosi servizi di scala globale come il \textit{file-sharing} e \textit{multicast-overlay}.\\
Queste considerazioni sono state finalizzate in questo altro lavoro con il connettere sotto-reti Zeroconf utilizzando reti DHT, in particolare OpenDHT, un servizio DHT pubblicamente accessibile. Quindi, un processo \textit{z2z} in esecuzione in una sotto-rete esporta i servizi Zeroconf localmente disponibili in OpenDHT. Un'altra istanza di un processo \textit{z2z} in esecuzione in un'altra sotto-rete controlla i servizi esportati in OpenDHT e li importa nella propria rete locale, diffondendoli come se fossero originari di quella LAN. Tali servizi, agli occhi delle applicazioni, sono indistinguibili da quelli veramente annunciati localmente, e sono quindi assimilati dalle applicazioni che utilizzano Zeroconf come nulla fosse, non modificando quindi il proprio comportamento.\\	   

Questo lavoro mette ancor più in risalto quanto le informazioni diffuse tramite questi protocolli siano veramente delicate, in quanto estendendo l'area di diffusioni a più sotto-reti esterne si aumenta il numero di potenziali \qts{ascoltatori malintenzionati} che potrebbero usare i dati privati così ottenuti per i propri fini. 

\section[Privacy mDNS]{Privacy Implications of mDNS\cite{privMDNS}}
Similmente al nostro studio, questo altro lavoro tratta appunto le informazioni contenute nei messaggi mDNS e DNS-SD che circolano nelle reti locali, approfondendo in particolare le implicazioni che hanno rispetto alla privacy degli utilizzatori di applicazioni che ne fruiscono dei vantaggi.\\
La differenza dal nostro elaborato sta anche nella parte implementativa per quanto riguarda lo strumento per la raccolta e l'analisi delle informazioni ottenute dai record mDNS. Quest'altro strumento è stato realizzato con 3 tools aventi compiti distinti: il primo, chiamato \textit{Logger}, ha il compito di richiedere e scoprire la presenza di servizi annunciati tramite mDNS nella rete locale, stimolando la comunicazione dei dispositivi connessi effettuando delle querys attive per verificarne la presenza; un \textit{Database Server} il quale raccoglie le informazioni ottenute a seguito delle querys, archiviandole permanentemente in un Database; un \textit{Analyzer}, il quale recupera le informazioni raccolte nel Server Database e le analizza, filtrandole per tipo di servizio/protocollo, e producendo l'effettivo studio dei dati raccolti. \\Le comunicazioni fra il Server e gli altri 2 componenti sono state implementati tramite comunicazioni REST, quindi il server offre una semplice interfaccia supportata dal protocollo HTTP con la quale interagire. A tale scopo, è stato utilizzato il framework Spring-Boot\cite{SPRBOOT}, che è un'implementazione REST.\\

Per quanto riguarda l'analisi, questo altro lavoro si è concentrato non tanto sulla scoperta di informazioni del singolo dispositivo, ma bensì sull'analisi e lo studio dei singoli servizi/protocolli annunciati all'interno della rete, disinteressandosi dallo scoprire le caratteristiche del singolo nodo. Un'altra differenza nell'analisi sta nel fatto che è stato effettuato uno studio separato fra varie tipologie di rete(Privata, Semi-Pubblica, Pubblica/Open), confrontando poi le varie tipologie di protocolli rilevate, e in quali percentuali nelle une rispetto che nelle altre. Il nostro lavoro invece si è specializzato nel rivelare identità del dispositivo e, in alcuni casi, del possessore, fruendo delle sole informazioni reperibili in modo completamente passivo, e quindi non generando alcun tipo di traffico per stimolare l'invio di messaggi mDNS.

\section[Broadcast Data Study]{How Broadcast Data Reveals Your Identity and Social Graph\cite{broadID}}
Un'altro studio simile a questo lavoro di tesi è l'analisi del traffico Broadcat e Multicast effettuato dall'Università di Scienze Applicate di Asburgo, la quale ha ampliato lo studio arricchendolo con l'aggiunta di altri protocolli oltre a mDNS e Dropbox, il tutto incrociando i risultati con i Databases interni dell'università, identificando con precisione gli utenti, rivelandone completamente l'identità.\\
Inoltre, il team di Asburgo si è basato su di una quantità di dati molto più elevata rispetto al nostro studio, se pur limitandosi alla rete interna all'università: ben 40GB di traffico broadcast per ogni 6 mesi, e per un totale di 2 semestri di monitoraggio.\\
Oltre ai protocolli usati in questo lavoro, sono stati analizzati e sfruttati per la raccolta di ulteriori informazioni, i pacchetti generati da protocolli come SSDP, LLMNR, e NetBIOS. Questo gli ha reso possibile accrescere il numero di informazioni ottenute, con dettagli che spaziano fra ulteriori nomi degli host grazie a NetBIOS, alla lingua parlata dall'utente(Inglese, Tedesco, ...) grazie sempre al parsing del nome dei nodi del tipo \qts{\textit{iPhone von John Doe}}, il quale indica chiaramente le origini Tedesche dell'utente grazie alla keyword \qts{von}.\\
In fine, questo altro studio ha incrociato gli hostnames raccolti con i dati nel server LDAP dell'università, il quale contiene l'intero elenco di tutti i nominativi(nome e cognome), matricole, email, corsi tenuti/seguiti, status(studente, insegnate, personale...) di tutti gli utenti registrati e facenti parte dell'università. Per disambiguare alcuni \qts{omonimi} fra i vari nomi estratti dagli hostnames rilevati e i nomi degli utenti registrati, sono stati utilizzati anche il timestamp del momento della cattura delle informazioni, incrociandoli con i corsi seguiti dagli utenti, tenuti dai professori, o ancora con i turni di lavoro del personale, associando al dispositivo, nella maggior parte dei casi, il corretto proprietario. 

\section{Arginare il problema della Privacy}
Presa coscienza dei problemi che comporta la trasmissione in chiaro delle informazioni diffuse tramite Broadcast/Multicast, e quindi mDNS in particolare, sono stati approntati numerosi studi atti ad aggiungere un layer di sicurezza e information-hiding, rendendo tali dati fruibili soltanto agli utenti autorizzati.\\
Fra i vari lavori a riguardo, mi sono trovato ad osservarne alcuni, che di seguito saranno brevemente accennati.\\

Daniel Kaiser e Marcel Waldvogel, autori dell'elaborato \textit{Adding Privacy to Multicast DNS Service Discovery}\cite{privAdd1}, hanno ideato un'estensione nelle comunicazioni DNS-SD per la privacy, la quale permette di nascondere tutte le informazioni sensibili dei record che annunciano i servizi offerti da un host, non necessitando alcuna modifica nella configurazione della rete, limitandosi all'aggiunta di una piccola fase di \textit{pairing} iniziale.\\
Dopo la solita analisi di quali informazioni si possono ricavare dai messaggi DNS-SD, è stato deciso di sviluppare uno strumento che, tramite tecniche di crittografia, non appesantisse il protocollo con l'aggiunta di overhead computazionale, e inoltre non comprometta il regolare funzionamento delle applicazioni che usufruiscono del protocollo di Service Discovery, ma che riuscisse comunque a fornire l'oscuramento delle informazioni per tutti gli host non autorizzati. Per permettere ciò, è comunque necessaria una piccola fase iniziale di \textit{pairing} fra i dispositivi che vogliono condividere/richiedere il permesso per l'utilizzo del Servizio: questo è stato implementato tramite lo scambio di informazioni per mezzo di un canale sicuro/esterno alla rete locale, come ad esempio Bluetooth, un QR-Code o NFC, o ancora una email crittografata o un SMS. In questa fase, i 2 host si scambiano tutte quelle informazioni necessarie a decrittare i dati diffusi in rete, rendendo personalizzabile, da parte dell'host che offre il servizio, la decisione di condividere o meno informazioni con gli altri nodi della rete.\\

In un'altro lavoro, \textit{User-Friendly, Versatile, and Efficient Multi-Link DNS Service Discovery}\cite{privAdd2} è stato elaborato un modo per fornire capacità multi-link e scalabilità per DNS-SD pur mantenendo la sua semplicità d'uso e l'afficienza. Viene quindi proposta una soluzione Stateless-DNS (DNS-SD/sDNS), che permetta l'autoconfigurazione di Service Discovery spazi di nomi arbitrari, largamente indipendenti dal layout fisico della rete, sfruttando la loro tecnica \textit{statles DNS} e l'algoritmo di consensus Raft\\
Non mi sono addentrato nei dettagli di quest'ultimo studio, quindi per ulteriori informazioni riferirsi alla bibliografia di questo elaborato.
